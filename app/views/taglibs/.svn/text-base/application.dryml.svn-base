<include src="rapid" plugin="hobo"/>

<include src="taglibs/auto/rapid/cards"/>
<include src="taglibs/auto/rapid/pages"/>
<include src="taglibs/auto/rapid/forms"/>

<set-theme name="clean"/>

<def tag="app-name">Tecniflex</def>

<extend tag="page">
  <old-page merge without-live-search>
  </old-page>
</extend>

<def tag="main-nav">
  <navigation class="main-nav" merge-attrs param="default">
    <nav-item href="#{base_url}/">Home</nav-item>
    <nav-item with="&OrdTrab"><ht key="ord_trabs.nav_item">Ordenes</ht></nav-item>
    <nav-item with="&Producto" if="&current_user.administrator?"><ht key="productos.nav_item">Productos</ht></nav-item>
    <nav-item with="&Cliente" if="&current_user.administrator?"><ht key="clientes.nav_item">Clientes</ht></nav-item>
    <nav-item with="&Color" if="&current_user.administrator?">Colores</nav-item>
    <nav-item with="&Contacto" if="&current_user.administrator?"><ht key="contactos.nav_item">Contactos</ht></nav-item>
    <nav-item with="&User" if="&current_user.administrator?"><ht key="users.nav_item">Usuarios</ht></nav-item>
  </navigation>
</def>

<!--
<extend tag="form" for ="Producto">
  <form>
	<error-messages param/>
        <table class="shower">
        <tr><td colspan="2">Cliente</td><td colspan="7"><input:cliente/></td><td/><td/></tr>
        <tr><td colspan="2">Producto</td><td colspan="8"><input:name/></td><td>Numero de Factura</td><td><input:numFact/></td></tr>
        <tr><td colspan="12"></td></tr>
        <tr><td colspan="3">Cod. Cliente</td><td colspan ="2"><input:codCliente/></td><td colspan="4">Codigo de Producto</td><td colspan="3" class="centrada">Disposici&oacute;n Clisse</td></tr>
        <tr><td colspan="5">Solicitud a Ejecutar</td><td colspan="4">&nbsp;</td><td>Cilindro:&nbsp;<input:cilindro/></td><td colspan="2">Ancho&nbsp;<input:distorAncho/></td></tr>
        <tr><td colspan="5" style="font-size:80%"><input:visto/>&nbsp;V.B.&nbsp;&nbsp;<input:mtz/>&nbsp;MTZ&nbsp;&nbsp;<input:mtje/>&nbsp;MTJE&nbsp;&nbsp;<input:film/>&nbsp;Printer</td><td colspan="4">Medidas de Impresion</td><td style="font-size:80%">Distorsion Cil.&nbsp;<view:producto.cilindro.distorsion/></td><td colspan="2" style="font-size:80%;">% distorsion&nbsp;<view:producto.cilindro.pctDistor/></td></tr>
        <tr><td colspan="3">Mat. Prop.</td><td>Cant.</td><td>Dev.</td><td>Desarrollo</td><td style="border:solid;">&nbsp;<view:producto.mdi_desarrollo/></td><td>&nbsp;<view:producto.mdi_ancho/></td><td>Ancho</td><td>&nbsp;</td><td colspan="2">&nbsp;</td></tr>
        <tr><td><input:mpFTP style="font-size:70%"/></td><td colspan="2">Bajar de FTP</td><td><input:mpFTPq style="width:40px"/></td><td><input:mpFTPdev style="font-size:60%"/></td><td colspan="3">Codigo de Barras</td><td>Color</td><td colspan="3" class="centrada">Disposicion de bandas</td></tr>
        <tr><td><input:mpPel style="font-size:70%"/></td><td colspan="2">Peliculas</td><td><input:mpPelq style="width:40px"/></td><td><input:mpPeldev style="font-size:60%"/></td><td colspan="3">Nº&nbsp;<view:producto.barcode/></td><td><view:producto.colorBarcode/></td><td colspan="3" rowspan="5" style="text-align: center"><if test="&this.producto.dispBandas"><view:producto.dispBandas/></if>&nbsp;(0=Bandas alineadas   1=Bandas desplazadas)</td></tr>
        <tr><td><input:mpImp style="font-size:70%"/></td><td colspan="2">Muestra Impresa</td><td><input:mpImpq style="width:40px"/></td><td><input:mpImpdev style="font-size:60%"/></td><td colspan="3">Marcas en los Clisse</td><td>Colores</td></tr>
        <tr><td><input:mpMgr style="font-size:70%"/></td><td colspan="2">Material Gráfico</td><td><input:mpMgrq style="width:40px"/></td><td><input:mpMgrdev style="font-size:60%"/></td><td colspan="3"><input:mcGuia style="font-size:60%"/>&nbsp;Guia de corte</td><td><input:mcGuiacol style="width:40px"/></td></tr>
        <tr><td><input:mpOpt style="font-size:70%"/></td><td colspan="2">Mail/DVD/CD</td><td><input:mpOptq style="width:40px"/></td><td><input:mpOptdev style="font-size:60%"/></td><td colspan="3"><input:mcMPunto style="font-size:60%"/>&nbsp;Micropunto x modulo</td><td><input:mcMPuntocol style="width:40px"/></td></tr>
        <tr><td><input:mpPtr style="font-size:70%"/></td><td colspan="2">Printer</td><td><input:mpPtrq style="width:40px"/></td><td><input:mpPtrdev style="font-size:60%"/></td><td colspan="3"><input:mcCruces style="font-size:60%"/>&nbsp;Cruces</td><td><input:mcCrucescol style="width:40px"/></td></tr>
        <tr><td colspan="5" class="centrada">Caracteristicas de Impresion</td><td colspan="3"><input:mcTacas style="font-size:60%"/>&nbsp;Tacas</td><td><input:mcTacascol style="width:40px"/></td><td colspan="3" class="centrada">Impresora: &nbsp;<input:producto.impresora/></td></tr>
        <tr><td colspan="5" rowspan="2"><view:producto.caractImp/></td><td colspan="3"><input:mcTiras style="font-size:60%"/>&nbsp;Tiras de control</td><td><input:mcTirascol style="width:40px"/></td><td colspan="3" class="centrada">N. de Pasos:&nbsp;<input:producto.nPasos/></td></tr>
        <tr><td colspan="3"><input:mcExceso style="font-size:60%"/>&nbsp;Exceso</td><td><input:mcExcesocol style="width:40px"/></td><td colspan="3" class="centrada">N. de Bandas&nbsp;<input:producto.nBandas/></td></tr>
        <tr><td colspan="5" class="centrada">Fotopolimero</td><td colspan="3"><input:mcMarcas style="font-size:60%"/>&nbsp;Marcas de calce</td><td><input:mcMarcascol style="width:40px"/></td><td colspan="3" rowspan="2"></td></tr>
        <tr><td colspan="5" class="centrada">&nbsp;</td><td colspan="3"><input:mcPimp style="font-size:60%"/>&nbsp;Guia de corte</td><td><input:mcPimpcol style="width:40px"/></td></tr>
        <tr><td colspan="12" class="centrada">Observaciones</td></tr>
        <tr><td colspan="12">&nbsp;<input:observaciones/></td></tr>
        
        <td>Fecha:&nbsp;<input:fecha order="day,month,year"/></td><td>O.T.</td><td><input:numOT/></td>
      </table>
		
		<div param="actions">
			<submit label="Guardar" param/><or-cancel param="Cancelar" />
		</div>
	
        </old-form>
</extend>
-->
<def tag="show-page" for="Producto">
  <page merge title="#{ht 'productos.show.title', :default=>['Producto'] }">

    <body: class="show-page producto" param/>

    <content: param>
          <header param="content-header">
            <h2 param="heading">
              <ht key="productos.show.heading" name="&this.respond_to?(:name) ? this.name : ''">
                <name/>
              </ht>
            </h2>

            <record-flags fields="" param/>

            <a action="edit" if="&can_edit?" param="edit-link">
              <ht key="productos.actions.edit" name="&this.respond_to?(:name) ? this.name : ''">
                Edit Producto
              </ht>
            </a>
          </header>

          <section param="content-body">
            <field-list fields="codTflex, codCliente, mdi_desarrollo, mdi_ancho, barcode, colorBarcode, dispBandas, distTotalPerim, distorAncho, nPasos, nBandas, colorUnion, supRev, caractImp, cliente" param/>
            <section param="collection-section">
              <h3 param="collection-heading">
                  Ordenes de Trabajo
              </h3>

              <collection:ord_trabs param />

              <section param="add-to-collection" if="&can_create?(@producto.ord_trabs)">
                <h3 param="add-form-heading">
                  <ht key="ord_trabs.collection.add_form_heading">
                    Add an Ord Trab
                  </ht>
                </h3>
                <form with="&@ord_trab || new_for_current_user(@producto.ord_trabs)" owner="producto" without-cancel param>
                  <field-list: skip="producto"/>
                  <submit: label="#{ht 'ord_trabs.actions.add', :default=>['Add'] }"/>
                </form>
              </section>
            </section>
          </section>
    </content:>

  </page>
</def>

<def tag="card" for="OrdTrab">
  <card class="ord-trab" param="default" merge>
    <header: param>
      <h4 param="heading"><a><name/></a></h4>           
    </header:>
  <body:>
    <view:producto.name/>
  </body:>
  </card>
</def>

<extend tag="edit-page" for="OrdTrab">
  <old-edit-page merge>
    <content-body:>
      <transition-buttons/>
      <form>
      <error-messages param/>
        <table class="shower">
        <tr><td colspan="2">Cliente</td><td colspan="7"><view:producto.cliente/></td><td>Fecha:&nbsp;<input:fecha order="day,month,year"/></td><td>O.T.</td><td><input:numOT/></td></tr>
        <tr><td colspan="2">Producto</td><td colspan="8"><view:producto.name/></td><td>Numero de Factura</td><td><input:numFact/></td></tr>
        <tr><td colspan="12"></td></tr>
        <tr><td colspan="3">Cod. Cliente</td><td colspan ="2"><view:producto.codCliente/></td><td colspan="4">Codigo de Producto</td><td colspan="3" class="centrada">Disposici&oacute;n Clisse</td></tr>
        <tr><td colspan="5">Solicitud a Ejecutar</td><td colspan="4">&nbsp;</td><td>Cilindro:&nbsp;<view:producto.cilindro/></td><td colspan="2">Ancho&nbsp;<view:producto.distorAncho/></td></tr>
        <tr><td colspan="5" style="font-size:80%"><input:visto/>&nbsp;V.B.&nbsp;&nbsp;<input:mtz/>&nbsp;MTZ&nbsp;&nbsp;<input:mtje/>&nbsp;MTJE&nbsp;&nbsp;<input:film/>&nbsp;Printer</td><td colspan="4">Medidas de Impresion</td><td style="font-size:80%">Distorsion Cil.&nbsp;<view:producto.cilindro.distorsion/></td><td colspan="2" style="font-size:80%;">% distorsion&nbsp;<view:producto.cilindro.pctDistor/></td></tr>
        <tr><td colspan="3">Mat. Prop.</td><td>Cant.</td><td>Dev.</td><td>Desarrollo</td><td style="border:solid;">&nbsp;<view:producto.mdi_desarrollo/></td><td>&nbsp;<view:producto.mdi_ancho/></td><td>Ancho</td><td>&nbsp;</td><td colspan="2">&nbsp;</td></tr>
        <tr><td><input:mpFTP style="font-size:70%"/></td><td colspan="2">Bajar de FTP</td><td><input:mpFTPq style="width:40px"/></td><td><input:mpFTPdev style="font-size:60%"/></td><td colspan="3">Codigo de Barras</td><td>Color</td><td colspan="3" class="centrada">Disposicion de bandas</td></tr>
        <tr><td><input:mpPel style="font-size:70%"/></td><td colspan="2">Peliculas</td><td><input:mpPelq style="width:40px"/></td><td><input:mpPeldev style="font-size:60%"/></td><td colspan="3">Nº&nbsp;<view:producto.barcode/></td><td><view:producto.colorBarcode/></td><td colspan="3" rowspan="5" style="text-align: center"><if test="&this.producto.dispBandas"><view:producto.dispBandas/></if>&nbsp;(0=Bandas alineadas   1=Bandas desplazadas)</td></tr>
        <tr><td><input:mpImp style="font-size:70%"/></td><td colspan="2">Muestra Impresa</td><td><input:mpImpq style="width:40px"/></td><td><input:mpImpdev style="font-size:60%"/></td><td colspan="3">Marcas en los Clisse</td><td>Colores</td></tr>
        <tr><td><input:mpMgr style="font-size:70%"/></td><td colspan="2">Material Gráfico</td><td><input:mpMgrq style="width:40px"/></td><td><input:mpMgrdev style="font-size:60%"/></td><td colspan="3"><input:mcGuia style="font-size:60%"/>&nbsp;Guia de corte</td><td><input:mcGuiacol style="width:40px"/></td></tr>
        <tr><td><input:mpOpt style="font-size:70%"/></td><td colspan="2">Mail/DVD/CD</td><td><input:mpOptq style="width:40px"/></td><td><input:mpOptdev style="font-size:60%"/></td><td colspan="3"><input:mcMPunto style="font-size:60%"/>&nbsp;Micropunto x modulo</td><td><input:mcMPuntocol style="width:40px"/></td></tr>
        <tr><td><input:mpPtr style="font-size:70%"/></td><td colspan="2">Printer</td><td><input:mpPtrq style="width:40px"/></td><td><input:mpPtrdev style="font-size:60%"/></td><td colspan="3"><input:mcCruces style="font-size:60%"/>&nbsp;Cruces</td><td><input:mcCrucescol style="width:40px"/></td></tr>
        <tr><td colspan="5" class="centrada">Caracteristicas de Impresion</td><td colspan="3"><input:mcTacas style="font-size:60%"/>&nbsp;Tacas</td><td><input:mcTacascol style="width:40px"/></td><td colspan="3" class="centrada">Impresora: &nbsp;<input:producto.impresora/></td></tr>
        <tr><td colspan="5" rowspan="2"><view:producto.caractImp/></td><td colspan="3"><input:mcTiras style="font-size:60%"/>&nbsp;Tiras de control</td><td><input:mcTirascol style="width:40px"/></td><td colspan="3" class="centrada">N. de Pasos:&nbsp;<input:producto.nPasos/></td></tr>
        <tr><td colspan="3"><input:mcExceso style="font-size:60%"/>&nbsp;Exceso</td><td><input:mcExcesocol style="width:40px"/></td><td colspan="3" class="centrada">N. de Bandas&nbsp;<input:producto.nBandas/></td></tr>
        <tr><td colspan="5" class="centrada">Fotopolimero</td><td colspan="3"><input:mcMarcas style="font-size:60%"/>&nbsp;Marcas de calce</td><td><input:mcMarcascol style="width:40px"/></td><td colspan="3" rowspan="2"></td></tr>
        <tr><td colspan="5" class="centrada">&nbsp;</td><td colspan="3"><input:mcPimp style="font-size:60%"/>&nbsp;Guia de corte</td><td><input:mcPimpcol style="width:40px"/></td></tr>
        <tr><td colspan="12" class="centrada">Observaciones</td></tr>
        <tr><td colspan="12">&nbsp;<input:observaciones/></td></tr>
      </table>
         
      
        <submit label="#{ht 'ord_trabs.actions.save', :default=>['Save']}" param/><or-cancel param="cancel"/>
   </form>
    <!--PRODUCTO: name, codTflex, codCliente, mdi_desarrollo, mdi_ancho, barcode, colorBarcode, dispBandas,
        distTotalPerim, distorAncho, nPasos, nBandas, colorUnion, supRev, caractImp, cliente, ord_trabs-->
    <!--OT: numOT, numFact, numGuia, fecha, clase, fechaEntrega, observaciones, visto, mtz, mtje, film, state, producto, tipopruebas-->
    
        <!--form param/-->

    </content-body:>

  </old-edit-page>
</extend>

<def tag="ech">
  <td style="width:20px"/>
</def>

<def tag="egr">
  <td style="width:80px" />
</def>

<!--<extend tag="form" for="Producto">
  <old-form merge>
    <error-messages param/>
    <b>Cliente</b><input:cliente/>&nbsp;&nbsp;<b>Producto</b><name/>&nbsp;&nbsp;<b>C&oacute;digo de Cliente</b><view:codCliente/><br />     
    <div param="actions">
      <submit label="#{ht 'ord_trabs.actions.save', :default=>['Save']}" param/><or-cancel param="cancel"/>
    </div>
  </old-form>
</extend>-->

<def tag="ver" param>
  <view: class="vista" />
</def>

<def tag="t1" param>
  <td colspan="1"/>
</def>

<def tag="t2" param>
  <td: colspan="2"/>
</def>

<def tag="t3">
  <td colspan="3" param/>
</def>

<def tag="t4" param>
  <td colspan="4"/>
</def>

<def tag="t5" param>
  <td colspan="5"/>
</def>

<def tag="t6" param>
  <td colspan="6"/>
</def>

<def tag="t7">
  <td colspan="7" param/>
</def>